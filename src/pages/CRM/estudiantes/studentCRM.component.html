<ion-header>
    <ion-toolbar>
      <ion-title>
        Estudiantes
      </ion-title>
      <ion-buttons start>
        <button ion-button (click)="dismiss()">
          <span ion-text color="primary" showWhen="ios">Cancelar</span>
          <ion-icon name="md-close" showWhen="android, windows"></ion-icon>
        </button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>
  
  <ion-content>
  <!--<ion-item>
  <button type="button" large block ion-button > Crear prospecto </button>
  </ion-item>-->
  <!--d-->
  
  
  
  <!--sss-->
  <ion-searchbar (keyup)="getItems($event)"></ion-searchbar>
  
  <ion-item>
    <ion-label>Busqueda avanzada</ion-label>
    <ion-toggle color="secondary" [(ngModel)]="advSrch" checked="false"></ion-toggle>
  </ion-item>

  <div *ngIf="advSrch">
    <ion-item>
      <ion-label>Buscar por:</ion-label>
      <ion-select  [(ngModel)]="properties.property">
          <ion-option value="name">Nombre </ion-option>
        <ion-option value="age">Edad </ion-option>
        <ion-option value="course">Curso</ion-option>
        <ion-option value="email">E-mail</ion-option>
        <ion-option value="lastName">Apellido paterno</ion-option>
        <ion-option value="lastName2">Apellido materno</ion-option>
        <ion-option value="genre">Género</ion-option>
        <ion-option value="ocupation">Ocupación</ion-option>
        <ion-option value="phone">Número</ion-option>
        <ion-option value="tutorName">Nombre tutor</ion-option>
        <ion-option value="tutoremail">E-mail tutor</ion-option>
        <ion-option value="tutorPhone">Numero tutor</ion-option>
      </ion-select>
    </ion-item>
  
    <ion-item >
      <label>Cuando sea:</label>
      <input [(ngModel)]="properties.textProperty" placeholder="De acuerdo a...">
    </ion-item>
  
  <ion-item>
    <button (click)="searchByProperty(properties.textProperty,properties.property)" type="button" ion-button block>Buscar</button>
  </ion-item>
  
  </div>
  
  <!--Resultados de busqueda-->
  <ion-list>
  <ion-item-group >
  <ion-item-divider style="text-align:center;" color="light">Estudiantes</ion-item-divider>
  <ion-item-sliding *ngFor="let item of students | async; index as i;" [attr.data-index]="i">
    <ion-item >
        <p>{{ i+1 + ". "+ item.name + " " + item.lastName +" " +item.phone}}</p>
    </ion-item>
  
  <ion-item-options  side="right">
      <button (click)="editStudent(item.uid,item)"  ion-button color="secondary">
        <ion-icon name="open"></ion-icon>
        Editar
      </button>
      <button (click)="eraseStudent(item.uid,item.key)" ion-button  color="danger">
        <ion-icon name="trash"></ion-icon>
        Eliminar
      </button>
    </ion-item-options>
  </ion-item-sliding>
  </ion-item-group>
  </ion-list>
  </ion-content>
  